<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>끝말잇기 게임</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script>
    let score = 0;
    let timeLeft = 60;

    // 단어 추가 함수
    function addWord() {
      const wordInput = document.getElementById('wordInput');
      const word = wordInput.value.trim();
      if (word) {
        const wordList = document.getElementById('wordList');
        const listItem = document.createElement('p');
        listItem.textContent = word;
        wordList.appendChild(listItem);

        score++;
        document.getElementById('scoreDisplay').textContent = `점수: ${score}점`;
        wordInput.value = '';
      }
    }

    // Enter 키 이벤트 추가
    document.addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        addWord(); // Enter 키를 누르면 addWord 함수 실행
      }
    });

    // 타이머 시작 함수
    function startTimer() {
      const timerDisplay = document.getElementById('timerDisplay');
      const interval = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = `타이머: ${timeLeft}초`;
        if (timeLeft <= 0) {
          clearInterval(interval);
          location.href = `/game_over?score=${score}`;
        }
      }, 1000);
    }

    // "그만하기" 버튼 클릭 시 현재 점수와 함께 게임 종료
    function quitGame() {
      location.href = `/game_over?score=${score}`;
    }

    // 페이지 로드 시 타이머 시작
    window.onload = startTimer;
  </script>
</head>
<body>
  <div class="container">
    <p id="timerDisplay">타이머: 60초</p>
    <p id="scoreDisplay">점수: 0점</p>
    <div id="wordList" class="word-list"></div>
    <input type="text" id="wordInput" placeholder="단어를 입력하세요">
    <button onclick="addWord()">제출</button>
    <button onclick="quitGame()">그만하기</button> <!-- 추가된 버튼 -->
  </div>
</body>
</html>
